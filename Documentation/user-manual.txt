Subsurface 4.0 User Manual
===========================
:author: Manual authors: Jacco van Koll, Dirk Hohndel, Reinout Hoornweg, Linus Torvalds, Miika Turkia, Amit Chaudhuri, Jan Schubert, Willem Ferguson
:revnumber: 4.0
:revdate: December 2013
:toc:
:icons:
:numbered:
:website: http://subsurface.hohndel.org

The scope of this document is the usage of the _subsurface_ program. For instructions on how to build the software and (if needed) its dependencies please consult the README file included with the source code.

*Audience*: Fun Divers, Tec Divers, Professional Divers


[[S_StartUsing]]
Start Using the Program
-----------------------

The _subsurface_ window comprises a *Main Menu* (File Edit View Search Tools Documents Help) at the top of the window with four panels underneath:

1) The *Dive List* to the bottom left containing a list of all the dives in your dive log. One can select and highlight a dive on the dive list by clicking on it.

2) The *Dive Map* to the bottom right, showing your dive sites on a world map and centered on the site of the dive highlighted in the dive list.

3) The *Dive Info* to the top left, giving textual information on the highlighted dive in the dive list.

4) The *Dive Profile* to the top right, showing a graphical profile of the highlighted dive in the dive list.

One can drag the dividers between panels in order to change the size of any of the panels. _subsurface_ remembers the position of the dividers: if one launches _subsurface_, it uses the positions of the dividers when the program was executed previously.


image::images/main_window.jpg["The Main Window",align="center"]


You can determine which of the four panels you wish to see by selecting *View* option on the main menu and which gives the user several choices of display:

*All*: show all four of the above panels.

*Divelist*: Show only the dive list. One can select and highlight a dive on the dive list by clicking on it.

*Profile*: Show only the profile of the highlighted dive in the dive list.

*Info*: Show only the textual information about the highlighted dive.

*Globe*: Show only the world map, centered on the highlighted dive.

When one starts the program for the first time, it shows no information
at all. This is because the program doesn't have any dive information available. One now needs to do three things:

1) Create a new logbook in which you can store dive data.

2) Store dive information in the new logbook.

3) Save the information in your logbook.

[[S_NewLogbook]]
How to create a new logbook
---------------------------
This is achieved by selecting _File -> New Logbook_ from the main menu. All existing dive data are cleared so that new information can be added.

[[S_GetInformation]]
== How to obtain dive information to store in your logbook

There are several ways ways to obtain dive information to view:

1. Enter dive information by hand. This is typically useful if the diver did not use a dive computer and dives were recorded in a written logbook.

2. Import dive information directly from a dive computer if it is supported by _subsurface_. The latest list of dive computers supported by _subsurface_ can be found at:  [red]#[[ URL to be inserted here ]] *************#

3. Import dive information from another file format. This is discussed in more detail below.

[[S_EnterData]]
=== How to enter dive information by hand

This is usually the approach for dives without a dive computer. The basic record of information within _subsurface_ is a dive. The most important information in a simple written dive logbook includes dive type, date, time, duration of dive, depth of dive, name of buddy and of dive master and some remarks about the dive. _subsurface_ can store much more information than this for each dive. In order to add a dive to your dive log, click on _Log -> Add Dive_. The program then shows three panels to enter information for a dive: two tabs in the *Info* panel (*Dive Notes* and *Equipment*), as well as the *profile* panel that displays a graphical profile of each dive. These panels are respectively marked [red]#A#, [red]#B# and [red]#C# in the figure below. We will now consider each of the tabs used for data entry.

image::images/AddDive1.jpg["The most important parts of the _subsurface_ window for manual data entry",align="center"]

==== Dive Notes

This panel contains the date, time and place information for a particular dive, environmental conditions, co-divers and buddies, as well as some descriptive information. The message in a blue box at the top of the panel indicates that you are in the process of adding information about your dive. If one clicks on the *Dive Notes* tab, the following fields are visible:

image::images/AddDive2.png["The Dive Notes tab",align="center"]

The *Starttime* field contains five data items reflecting the date and the time of the dive. By clicking the down-arrow on the right of that field one can display a calendar from which you can choose the correct date. The hour and minutes values can also be edited by clicking on each of them in the text box and by overtyping the information displayed.

*Air/water temperatures*: Type in the air and water temperatures during the dive into these fields to the right of the Starttime. You do not need to type in units of temperature: subsurface supplies these automatically, you only need type the number. (The units selected in the 'Preferences' [red]#[[URL link]]# will determine whether metric or imperial units are displayed)

*Location*: Here type in text that describes the site where you did this dive, e.g. "Lake Balaton, Hungary".

*Coordinates*: The geographic coordinates of the dive site should be entered here. These can come from three sources:

a. You can enter the coordinates by hand if you happen to know what they are. You need to enter them as decimal degrees, e.g: N30° 13.49760' , E30° 49.30788'.

b. You can find the coordinates on the world map in the bottom right hand part of the subsurface window. The map displays a green bar indicating "No location data - move the map and double-click to set the location". Upon a double-click at the appropriate place, the green bar disappears and the coordinates are stored (Sometimes the coordinates are not shown in the Dive Notes immediately but only appear when you save the data for your dive). [red]#[[Bug??]]#

c. You can obtain the coordinates from a helper program if your mobile phone has a GPS and you stored the coordinates of the dive site on your mobile or tablet.
[red]#[[Text needs to be inserted here after the helper software has been completed]]#

*Divemaster*: Enter the name of the divemaster during the dive.

*Buddy*: Enter the name of your buddy during the dive.

*Suit*: Enter the type of diving suit you used for the dive. Your descriptions of diving suits are remembered within a particular logbook so that a similar description during later dives will re-use your original description, should you wish this to happen.

*Rating*: Here you can provide a subjective overall rating of the dive on a 5-point scale by clicking the appropriate star on the rating scale.

*Visibility*: You can provide a rating of visibility during the dive on a 5-point scale by clicking the appropriate star.

*Tags*: You may enter tags here (separate them by commas) that describe the type of dive you performed. Examples of common tags are boat, drift, training, cave. _subsurface_ has many built-in tags. If you start to type a tag, the program will list the tags that correspond to your typing. For instance, if you typed +cav+, then the tags *cave* and *cavern* are shown for the user to choose from.

*Notes*: Type any additional information here.

The *Save* and *Cancel* buttons are used to save all the information for the dive after all the other information has been added. Here is an example of a completed Dive Notes panel:

image::images/CompletedDiveInfo.png["Example: A completed Dive Notes tab",align="center"]

==== Equipment

The Equipment tab allows the user to enter information about the type of cylinder and gas you used, as well as the weighting for that dive. The message in a blue box at the top of the panel:

image::images/BlueEditBar.png["Blue edit bar",align="center"]

indicates that one is in the process of adding equipment information for the dive.This is a highly interactive part of _subsurface_ and the information on cylinders and gases (entered here) determines the behaviour of the dive profile (top righthand panel).

*Cylinders*: The cylinder information is entered through a dialogue that looks like this:

image::images/CylinderDataEntry1.png["Initial cylinder dialogue",align="center"]

The + icon at the top right allows one to add more cylinders for this dive. The dark dustbin icon on the left allows one to delete information for a cylinder.

Start by selecting a cylinder type. The AL80 cylinder is shown as the default cylinder type. If you wish to change this, click on the AL80. This will bring up a dropdown list, accessible through a down-arrow:

image::images/CylinderDataEntry2.png["The cylinder drop-down list button",align="center"]

Use the dropdown list to select the cylinder type you used for this dive. The *Size* of the cylinder as well as its working pressure (*WorkPress*) will automatically be shown in the dialogue.

Now you need to indicate the starting pressure and the ending pressure of the specified gas during your dive. The unit of pressure (metric/imperial) corresponds to the setting you chose in the preferences [red]#[[LINK]]#.

Finally you need to type in the gas mixture that you used. If you used air, you can enter 21% or leave the field blank. If you used nitrox or trimix, specify the percentage of oxygen and the percentage of helium. Leave any inappropriate fields empty. Add information for any additional cylinders by using the + icon at the top right hand. Here is an example of a complete description for a dive using two cylinders (air and EAN40):

image::images/CylinderDataEntry3.png["Example: a completed cylinder dive information table",align="center"]

*Weights*: Informtion about the weighting system used during a dive can be entered using a dialogue very similar to that of the cylinder information. If you click the + icon on the top right of the weights dialogue, the table looks like this:

image::images/WeightsDataEntry1.png["The Weights dialogue",align="center"]

If you click on the *Type* field, a dropdown list becomes accessible through a down-arrow:

image::images/WeightsDataEntry2.png["Weights type drop-down list button",align="center"]

Use the dropdown list to select your type of weighting system. In the *Weight* field, type in the weight used during the dive. It is possible to enter information for more than one weighting system by adding an additional system using the + icon on the top right hand. Weighting systems can be deleted using the dustbin icon on the left hand. Here is an example of information for a dive with two types of weights: integrated and a weight belt:

image::images/WeightsDataEntry3.png["Example: A completed weights information table",align="center"]


==== Creating a Dive Profile

The *Dive Profile* (a graphical representation of the depth of your dive as a function of time) is indicated in the panel on the top right hand of the _subsurface_ window. When you manually add a dive to your logbook, _subsurface_ presents a default dive profile that one needs to modify to best represent the dive being described:

image::images/DiveProfile1.png["Initial dive profile",align="center"]

_Configuring the dive profile_: When one moves the cursor around the dive profile, its position is indicated by two red lines as shown above. The depth and time that the cursor represents are indicated, repectively on the left hand and bottom axes. The units (metric/imperial) on the axes are determined by the *preference* settings [red]#[[LINK]]#. The dive profile itself copmrises several line segments demarcated by waypoints (white dots on the profile, as shown above). The default dive depth is 15m. If your dive depth was 21m then you need to drag the appropriate waypoints downwards to represent 21m. To add a waypoint, double-clicking on any line segment. To remove a waypoint, right-click on it and choose "Remove this point" from the context menu. You will also need to drag the waypoints to represent an accurate time duration for your dive. Below is a dive profile that represents a dive to 21m for 31 min., followed by a 3 minute safety stop at 5m.

image::images/DiveProfile2.png["Edited dive profile",align="center"]

_Specifying the gas composition:_ The gas composition used is clearly indicated along the line segments of the dive profile. This defaults to the first gas mixture specified in the *Equipment* tab, which was air in the case of the profile illustrated above. The gas mixtures of segments of the dive profile can be edited. This is performed by clicking on the gas description for a particular segment and selecting the appropriate choice from the context menu. Note that only the gases defined in the *Equipment* tab appear in the context menu:

image::images/DiveProfile3.png["Gas composition context menu",align="center"]

If one inadvertently clicks on the gas composition but one does not wish to change this, press the ESCAPE keyboard button. Below is the profile of a dive to 21m for 31 min. with a switch from air to EAN40 on the ascent. In this case the first cylinder in the *Equipment* tab contained air and the second cylinder contained EAN40.

image::images/DiveProfile4.png["Example: Completed dive profile",align="center"]

==== Saving the hand-entered dive information

The information entered in the *Dive Notes* tab, the *Equipment* tab as well as the dive profile can now be saved in your logbook by using the two buttons on the bottom right hand of the Dive Notes tab. If one clicks Save, the dive data are saved. If one clicks Cancel, the newly entered dive data are deleted. When one exits _subsurface_ there is a final prompt to confirm that the new data should be saved.


[[S_ImportNewDives]]
=== Importing new dive information from your Dive Computer

==== Connecting and importing data from a dive computer.

The use of dive computers allows collecting a large amount of information about each dive, e.g. a detailed record of depth, durations, rates of ascent/descent and of gas partial pressures. _subsurface_ can capture this information and present it to you as part of the dive information. _subsurface_ can obtain dive information from a wide range of dive computers. The latest list of supported dive computers can be found at:  [red]#[[ URL to be inserted here ]] *************#

[NOTE]
Some dive computers consume more power when they are in their
PC-Communication mode. **This could drain your battery**. We therefore
recommend that you check if your dive computer is recharging when
connected to the USB port of a PC. The Suunto Vyper for example does
not recharge through the USB connection. Please consult the manual of
your dive computer if you are unsure if it will recharge or drain its
batteries while connected to the USB port.

To import dive information from a dive computer to your computer with _subsurface_, it is necessary that the two pieces of equipment must communicate. In order to set up this communication, you need to find the appropriate information to instruct _subsurface_ where and how to import the dive information. *Appendix A* provides the technical information to help you achieve this for different operating systems and *Appendix B* has divecomputer specific information.

Now it is time to hook up your dive computer to your PC:

 - Connect your interface cable to a free USB port (or setup the Infrared
	or Bluetooth connection as described later in this manual)

 - Put your dive computer into PC Communication mode.
	(You should consult the manual of your specific dive computer for your brand and type)

 - In Subsurface, from the main menu, select _Import -> Import From Dive Computer_. The following dialogue appears:


image::images/ImportFromDC1.png["Download dialogue 1",align="center"]

Often, dive computers retain all their dives even though these dives have been imported to _subsurface_. However it is not necessary to import dives that have already been imported previously. For that reason _subsurface_ only imports dives that have not been uploaded before. This is beneficial for saving the battery power of your dive computer. If, for some reason, one wishes to import ALL dives in the dive computer, one can tick the box labeled _Force download of all dives_.

 - The dialogue has two drop-down lists, *Vendor* and *Dive Computer*. On the *vendor* drop-down list select the make of your computer, e.g. Suunto, Oceanic, Uwatec, Mares. On the *Dive Computer* drop-down list, select the model name of your dive computer, e.g. D4 (Suunto), Veo200 (Oceanic), or Puck (Mares).

 - The *Device or Mount Point* dropdown list contains the USB or Bluetooth port name that _subsurface_ needs in order to communicate with your dive computer. Select the appropriate port name. Consult *Appendix A* for technical details to find the appropriate information for _subsurface_ and, in some cases, to do the correct settings to the operating system of your _subsurface_ computer.

 -  Click the _OK_ button.

 - If there is a problem in communicating with your dive computer, an error message will be shown, similar to this text: "Unable to open /dev/ttyUSB0 Mares (Puck Pro)". In this case, consult *Appendix A* for information specific to the operating system of your _subsurface_ computer and consult *Appendix B* for information specific to some dive computers.

 - With communication established, watch how your data is retrieved from your dive computer!
   Depending on your type of computer and/or number of dives, this
   could take some time. Please be patient. The import dialogue will show a progress bar underneath the dialogue:

image::images/ImportFromDC2.png["Download dialogue 2",align="center"]

When download of the dive information is complete, all the imported dives appear on your Dive List. Switch off your dive computer to conserve its battery power.

==== Updating the dive unformation imported from your dive computer.

The information from your dive computer is not complete and you can add more details in order to have a more complete record of your dives. To do this, you use the Dive Notes and the Equipment tabs on the top left hand of the _subsurface_ window.

==== Dive Notes

The date and time of the dive, and perhaps water temperature is shown as obtained from the dive computer, but you need to add some information by hand in order for more complete dive information. The message in a blue box at the top of the panel indicates that you are in the process of adding information about your dive. If one clicks on the *Dive Notes* tab, the following fields are visible:

image::images/AddDive2.png["The Dive Notes tab",align="center"]

The *Starttime* field contains five data items reflecting the date and the time of the dive. By clicking the down-arrow on the right of that field one can display a calendar from which you can choose the correct date. The hour and minutes values can also be edited by clicking on each of them in the text box and by overtyping the information displayed.

*Air/water temperatures*: Type in the air and water temperatures during the dive into these fields to the right of the Starttime. You do not need to type in units of temperature: subsurface supplies these automatically, you only need type the number. (The units selected in the 'Preferences' [red]#[[URL link]]# will determine whether metric or imperial units are displayed)

*Location*: Here type in text that describes the site where you did this dive, e.g. "Lake Balaton, Hungary".

*Coordinates*: The geographic coordinates of the dive site should be entered here. These can come from three sources:

a. You can enter the coordinates by hand if you happen to know what they are. You need to enter them as decimal degrees, e.g: N30° 13.49760' , E30° 49.30788'.

b. You can find the coordinates on the world map in the bottom right hand part of the subsurface window. The map displays a green bar indicating "No location data - move the map and double-click to set the location". Upon a double-click at the appropriate place, the green bar disappears and the coordinates are stored (Sometimes the coordinates are not shown in the Dive Notes immediately but only appear when you save the data for your dive). [red]#[[Bug??]]#

c. You can obtain the coordinates from a helper program if your mobile phone has a GPS and you stored the coordinates of the dive site on your mobile or tablet.
[red]#[[Text needs to be inserted here after the helper software has been completed]]#

*Divemaster*: Enter the name of the divemaster during the dive.

*Buddy*: Enter the name of your buddy during the dive.

*Suit*: Enter the type of diving suit you used for the dive. Your descriptions of diving suits are remembered within a particular logbook so that a similar description during later dives will re-use your original description, should you wish this to happen.

*Rating*: Here you can provide a subjective overall rating of the dive on a 5-point scale by clicking the appropriate star on the rating scale.

*Visibility*: You can provide a rating of visibility during the dive on a 5-point scale by clicking the appropriate star.

*Tags*: You may enter tags here (separate them by commas) that describe the type of dive you performed. Examples of common tags are boat, drift, training, cave. _subsurface_ has many built-in tags. If you start to type a tag, the program will list the tags that correspond to your typing. For instance, if you typed +cav+, then the tags *cave* and *cavern* are shown for the user to choose from.

*Notes*: Type any additional information here.

The *Save* and *Cancel* buttons are used to save all the information for the dive after all the other information has been added. Here is an example of a completed Dive Notes panel:

image::images/CompletedDiveInfo.png["Example: A completed Dive Notes tab",align="center"]

==== Equipment

The Equipment tab allows the user to enter information about the type of cylinder and gas you used, as well as the weighting for that dive. The message in a blue box at the top of the panel:

image::images/BlueEditBar.png["Blue edit bar",align="center"]

indicates that one is in the process of adding equipment information for the dive.This is a highly interactive part of _subsurface_ and the information on cylinders and gases (entered here) determines the behaviour of the dive profile (top righthand panel).

*Cylinders*: The cylinder information is entered through a dialogue that looks like this:

image::images/CylinderDataEntry1.png["Initial cylinder dialogue",align="center"]

The + icon at the top right allows one to add more cylinders for this dive. The dark dustbin icon on the left allows one to delete information for a cylinder.

Start by selecting a cylinder type. The AL80 cylinder is shown as the default cylinder type. If you wish to change this, click on the AL80. This will bring up a dropdown list, accessible through a down-arrow:

image::images/CylinderDataEntry2.png["The cylinder drop-down list button",align="center"]

Use the dropdown list to select the cylinder type you used for this dive. The *Size* of the cylinder as well as its working pressure (*WorkPress*) will automatically be shown in the dialogue.

Now you need to indicate the starting pressure and the ending pressure of the specified gas during your dive. The unit of pressure (metric/imperial) corresponds to the setting you chose in the preferences [red]#[[LINK]]#.

Finally you need to type in the gas mixture that you used. If you used air, you can enter 21% or leave the field blank. If you used nitrox or trimix, specify the percentage of oxygen and the percentage of helium. Leave any inappropriate fields empty. Add information for any additional cylinders by using the + icon at the top right hand. Here is an example of a complete description for a dive using two cylinders (air and EAN40):

image::images/CylinderDataEntry3.png["Example: a completed cylinder dive information table",align="center"]

*Weights*: Informtion about the weighting system used during a dive can be entered using a dialogue very similar to that of the cylinder information. If you click the + icon on the top right of the weights dialogue, the table looks like this:

image::images/WeightsDataEntry1.png["The Weights dialogue",align="center"]

If you click on the *Type* field, a dropdown list becomes accessible through a down-arrow:

image::images/WeightsDataEntry2.png["Weights type drop-down list button",align="center"]

Use the dropdown list to select your type of weighting system. In the *Weight* field, type in the weight used during the dive. It is possible to enter information for more than one weighting system by adding an additional system using the + icon on the top right hand. Weighting systems can be deleted using the dustbin icon on the left hand. Here is an example of information for a dive with two types of weights: integrated and a weight belt:

image::images/WeightsDataEntry3.png["Example: A completed weights information table",align="center"]

==== Saving the updated dive information

The information entered in the *Dive Notes* tab, the *Equipment* tab can be saved with all the other information of your dives in your logbook by using the two buttons on the bottom right hand of the Dive Notes tab. If one clicks Save, the dive data are saved. If one clicks Cancel, the newly entered dive data are deleted, although the dive profile obtained from the dive computer will be retained. When one exits _subsurface_ there is a final prompt to confirm that the new data should be saved.











== APPENDIX A: Operating system pecific information for importing dive information from dive computer.

=== Make sure that your OS has the required drivers installed

	* On Linux this means you need to have the correct kernel
	  module loaded. Most distributions will do this automatically
	  for you. Make sure you have read/write permissions to that
	  port. On Ubuntu that could mean you should run the command
	  following command in a terminal window:

	+sudo adduser+ [your_username] +dialout+

	* On Windows, the OS should offer to download the correct
	  driver once you connect your dive computer to the USB port.

	* On a Mac you at times have to manually hunt for the correct
	  driver. For example the correct driver for the Mares Puck
	  devices can be found as Mac_OSX_VCP_Driver.zip at
	  http://www.silabs.com/support/pages/support.aspx?ProductFamily=USB+Bridges
	  [red]#(see further hints in <<AppendixB,Appendix B>>)#

[[S_HowFindDeviceName]]
=== How to Find the Device Name for USB devices

When you connect your dive computer by using an USB connector, usually
Subsurface will either propose a drop down list that contains the
correct device name (or mount point for the Uemis Zurich), or it will
disable the device select drop down if no device name is needed at
all. In the rare cases where this doesn't work here are some
instructions on ways to find out what your device name is:

.On Windows:

Simply try COM1, COM2, etc. The drop down list should contain all connected COM devices.

.On MacOS:

The drop down box should find all connected dive computers.

.On Linux:

Try the following:

 - Disconnect your USB cable of your dive computer
 - Open a terminal
 - Type the command: 'dmesg' and press enter
 - Plug in your USB cable of your dive computer
 - Type the command: 'dmesg' and press enter

Within your terminal you should see a message similar to this one:

	usb 2-1.1: new full speed USB device number 14 using ehci_hcd
	usbcore: registered new interface driver usbserial
	USB Serial support registered for generic
	usbcore: registered new interface driver usbserial_generic
	usbserial: USB Serial Driver core
	USB Serial support registered for FTDI USB Serial Device
	ftdi_sio 2-1.1:1.0: FTDI USB Serial Device converter detected
	usb 2-1.1: Detected FT232BM
	usb 2-1.1: Number of endpoints 2
	usb 2-1.1: Endpoint 1 MaxPacketSize 64
	usb 2-1.1: Endpoint 2 MaxPacketSize 64
	usb 2-1.1: Setting MaxPacketSize 64
	usb 2-1.1: FTDI USB Serial Device converter now attached to ttyUSB3
	usbcore: registered new interface driver ftdi_sio
	ftdi_sio: v1.6.0:USB FTDI Serial Converters Driver

You see that in the third line from the bottom, the USB adapter is
detected and is connected to +ttyUSB3+. Now you use this information in
the import settings as +/dev/ttyUSB3+. Your dive computer interface is
connected and you should be able to import your dives.

[[S_HowFindBluetoothDeviceName]]
=== Setting up bluetooth enabled devices

For dive computers communicating through bluetooth like the Heinrichs
Weikamp Frog or the Shearwater Predator and Petrel there is a
different procedure to get the devices name to communicate with
subsurface. In general it consists of these steps:

 * enable bluetooth on your computer
 * pairing the device

Please do not forget to set your divecomputer in Bluetooth or upload mode before
Paring and Downloading logs. If you use a Shearwater Predator/Petrel just select
_Dive Log -> Upload Log_ and wait until you see the _Wait PC_ message.

.On Windows:

Bluetooth is most likely already enabled. For pairing the device choose
Control Panel->Bluetooth Devices->Add Wireless Device
This should bring up a dialog showing your dive computer (in Bluetooth mode) and
allowing to pair it. For bluetooth pairing of your dive computer refer to the manufacturer's user guide. The dive
computer should then show up in the list of Bluetooth devices and you may then
right click on it and choose Properties->COM Ports to get known of the ports
used for your dive computer. If there are several ports listed, use the one
saying "Outgoing" instead of "Incoming".

For downloading to _subsurface_, the drop down list should contain this COM
port already, if not enter it manually.

Note: If you have issues downloading from your dive computer in other software
afterwards try to remove the pairing with your dive computer.

.On MacOS:

Click on the Bluetooth symbol in the menu bar and select 'Set up
Bluetooth Device...'. Make sure that your dive computer is in upload
mode; it should then show up in the list of devices. Select it and go
through the pairing process. This step should only be needed once for
initial setup.

Once the pairing is completed the correct device will be shown in the
'Device or Mount Point' drop down in the _subsurface_ *Import* dialog.

.On Linux
Ensure sure bluetooth is enabled on the _subsurface_ computer.
On most common distributions this should be true out of the box. If not then
depending on your system, running +initd+ or +systemd+ this might be different and
also involve loading modules specific to your hardware. In case your system is
running +systemd+ manually run +sudo systemctl start bluetooth.service+ to enable
it, in case of +initd+ run something like +sudo rc.config start bluetoothd+ or
+sudo /etc/init.d/buetooth start+.

Pairing should be straight forward. Using Gnome3 for instance will show a
bluetooth icon in the upper right corner of your desktop where you select 'Set
up New Device'. This should show you a dialog where you are able to select your
dive computer (in bluetooth mode) and pair it. If you have issues with PIN
setting try manually setting '0000'.

You may also use a manual approach by using such commands:

 * +sudo hciconfig+ - shows the bluetooth devices available on your
computer (not dive computer), most likely you will see a hci0, if not
try 'sudo hcitool -a' to see inactive devices and try to run 'sudo
hciconfig hci0 up' to bring them up

 * +sudo hcitool scanning+- use this to get a list of bluetooth enabled
client devices, watch out for your dive computer and remember the MAC
address shown there

 * +sudo bluez-simple-agent hci0 10:00:E8:C4:BE:C4+ - this will pair
your dive computer with the bluetooth stack of your computer, copy/paste
the MAC address from the output of 'hcitool scanning'

Unforturnately on Linux binding to a communication device has to be done
manually by running:

 * +sudo rfcomm bind /dev/rfcomm0 10:00:E8:C4:BE:C4+ - bind the dive
computer to a communication device in your computer, in case rfcomm is
already taken just use rfcomm1 or up, please copy/paste the MAC address
from the output of 'hcitool scanning', the MAC shown in here will not
work for you.

For downloading dives in subsurface you have then to specify +/dev/rfcomm0+
as device name to use.



== APPENDIX B: Dive Computer specific information for importing dive information.


[[S_ImportUemis]]
=== Import from a Uemis Zurich

Things are very similar when downloading dives from a Uemis Zurich
dive computer (which certainly is one of the ones that DO recharge when
connected to the USB port). The main difference is that you don't enter a
device name, but instead the location where the UEMISSDA file system is
mounted once you connect the dive computer.

On Windows this is a drive letter (often 'E:' or 'F:'), on a Mac this is
'/Volumes/UEMISSDA' and on Linux systems this differs depending on the
distribution that you use. On Fedora it usually is
'/var/run/media/<your_username>/UEMISSDA'. In all cases Subsurface
should suggest the correct location in the drop down list.

Once you have selected this as device name you can download the
dives from the Uemis Zurich. One technical issue with the Uemis Zurich
download implementation (this is a firmware limitation, not a
Subsurface issue) is that you cannot download more than about 40-50
dives without running out of memory on the SDA. This will usually only
happen the very first time you download dives from the Uemis Zurich -
normally when downloading at the end of a day or even after a dive
trip, the capacity is sufficient. If Subsurface displays and error
that the dive computer ran out of space the solution is straight
forward.  Disconnect the SDA, turn it off and on again, and reconnect
it. You can now retry (or start a new download session) and the
download will continue where it stopped the last time you tried. You
may have to do this more than once, depending on how many dives you
have stored on your dive computer.

At this point Subsurface downloads most of the information that is
stored on the SDA, including information about dive spots and
equipment. Buddy information is not yet downloaded.

=== Import from Shearwater Predator using bluetooth

Using a Shearwater Predator you may be able to pair but then encounter issues when
downloading, showing errors like _Slip RX: unexp. SLIP END_ on the Predator.
This might also be seen, when using other dive log software and operating
systems than Linux. We have no detailed idea about the source and how to fix
this, but it is reported to be solved sometimes by one of these steps:

 * use the bluetooth dongle which came with the Shearwater Predator instead of
   the built-in one of your computer
 * switch to different bluetooth drivers for your hardware
 * switch off WiFi while using Bluetooth

Please report issues and nonworking environments at
http://trac.hohndel.org[our bugtracker] or send an email to
mailto:subsurface@hohndel.org[our mailing list].
